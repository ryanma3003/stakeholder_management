        {% extends 'base.html' %}
        {% load static %}
		{% load penyebut %}
            {% block content %}
				<div class="row">
					<div class="col-xl-12">
						<div class="card">
							<div class="card-header border-0 pb-0">
								<h4 class="fs-20 font-w600">Tahapan Pembentukan TTIS</h4>
							</div>
							<div class="card-body">
								<div class="row shapreter-row">
									<div class="col-xl-3 col-lg-3 col-sm-4 col-6">
										<div class="static-icon">
											<span>
												<i class="fas fa-desktop"></i>
											</span>
											<h3 class="count">{{total_edukasi}}</h3>
											<span class="fs-14">Edukasi TTIS</span>
										</div>
									</div>
									<div class="col-xl-2 col-lg-2 col-sm-4 col-6">
										<div class="static-icon">
											<span>
												<i class="fas fa-project-diagram"></i>
											</span>
											<h3 class="count">{{total_perencanaan}}</h3>
											<span class="fs-14">Perencanaan TTIS</span>
										</div>
									</div>
									<div class="col-xl-2 col-lg-2 col-sm-4 col-6">
										<div class="static-icon">
											<span>
												<i class="fas fa-university"></i>
											</span>
											<h3 class="count">{{total_penerapan}}</h3>
											<span class="fs-14">Penerapan TTIS</span>
										</div>
									</div>
									<div class="col-xl-2 col-lg-2 col-sm-4 col-6">
										<div class="static-icon">
											<span>
												<i class="fas fa-rocket"></i>
											</span>
											<h3 class="count">{{total_penguatan}}</h3>
											<span class="fs-14">Penguatan TTIS</span>
										</div>
									</div>
									<div class="col-xl-3 col-lg-3 col-sm-4 col-6">
										<div class="static-icon">
											<span>
												<i class="fas fa-chart-line"></i>
											</span>
											<h3 class="count">{{total_evaluasi}}</h3>
											<span class="fs-14">Evaluasi TTIS</span>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="col-xl-6">
						<div class="row">
							<div class="col-xl-12">
								<div class="card">
									<div class="card-body">
										<div class="row separate-row">
											<div class="col-sm-6">
												<div class="job-icon pb-4 d-flex justify-content-between">
													<div>
														<div class="d-flex align-items-center mb-1">
															<h2 class="mb-0 count">{{total_stakeholder}}</h2>
														</div>	
														<span class="fs-14 d-block mb-2">Stakeholders</span>
													</div>	
													<div id="NewCustomers"></div>
												</div>
											</div>
											<div class="col-sm-6">
												<div class="job-icon pb-4 pt-4 pt-sm-0 d-flex justify-content-between">
													<div>
														<div class="d-flex align-items-center mb-1">
															<h2 class="mb-0 count">{{total_workshop}}</hh2>
														</div>	
														<span class="fs-14 d-block mb-2">Peningkatan Kompetensi</span>
													</div>	
													<div id="NewCustomers1"></div>
												</div>
											</div>
											<!-- <div class="col-sm-6">
												<div class="job-icon pb-4 pt-4 pt-sm-0 d-flex justify-content-between">
													<div>
														<div class="d-flex align-items-center mb-1">
															<h2 class="mb-0 count">{{total_csm}}</h2>
														</div>	
														<span class="fs-14 d-block mb-2">CSM</span>
													</div>	
													<div id="NewCustomers1"></div>
												</div>
											</div>
											<div class="col-sm-6">
												<div class="job-icon pt-4 pb-sm-0 pb-4 pe-3 d-flex justify-content-between">
													<div>
														<div class="d-flex align-items-center mb-1">
															<h2 class="mb-0 count">{{total_se}}</h2>
														</div>	
														<span class="fs-14 d-block mb-2">Kategorisasi SE</span>
													</div>	
													<div id="NewCustomers2"></div>
												</div>
											</div>
											<div class="col-sm-6">
												<div class="job-icon pt-4  d-flex justify-content-between">
													<div>
														<div class="d-flex align-items-center mb-1">
															<h2 class="mb-0 count">{{total_ikami}}</h2>
														</div>	
														<span class="fs-14 d-block mb-2">Indeks KAMI</span>
													</div>	
													<div id="NewCustomers3"></div>
												</div>
											</div> -->
										</div>
									</div>
								</div>
							</div>
							<!-- <div class="col-xl-12">
								<div class="card" >
									<div class="card-header border-0 pb-0 flex-wrap">
										<h4 class="fs-20 mb-1">Jumlah Kategorisasi SE</h4>
									</div>
									<div class="card-body">
										<div id="highchart-se"></div>
									</div>
								</div>
							</div>
							
							<div class="col-xl-12">
								<div class="card">
									<div class="card-header">
										<h4 class="card-title">Nilai Rata-rata Indeks KAMI</h4>
									</div>
									<div class="card-body">
										<div id="highchart-radar-ikami"></div>
										<table class="table table-bordered">
											<tr>
												<td>Tata Kelola</td>
												<td>{{ikami1}}</td>
											</tr>
											<tr>
												<td>Pengelolaan Risiko</td>
												<td>{{ikami2}}</td>
											</tr>
											<tr>
												<td>Kerangka Kerja Keamanan Informasi</td>
												<td>{{ikami3}}</td>
											</tr>
											<tr>
												<td>Pengelolaan Aset</td>
												<td>{{ikami4}}</td>
											</tr>
											<tr>
												<td>Teknologi dan Keamanan Informasi</td>
												<td>{{ikami5}}</td>
											</tr>
											<tr>
												<th>Skor</th>
												<th>{{skor_ikami}}</th>
											</tr>
											<tr>
												<th colspan="2">{{evaluasi_ikami}}</th>
											</tr>
										</table>
									</div>
								</div>
							</div> -->
						</div>
					</div>

					<div class="col-xl-6">
						<div class="row">
							<div class="col-xl-12">
								<div class="card">
									<div class="card-header border-0 pb-0">
										<h4 class="fs-20 font-w600">Progress Pembentukan TTIS</h4>
									</div>
									<div class="card-body">
										<div class="row align-items-center">
											<div class="col-xl-6 col-sm-6">
												<div class="progress default-progress">
													<div class="progress-bar bg-vigit progress-animated" style="width: {{overall_edukasi}}%; height:13px;" role="progressbar">
														<span class="sr-only">{{overall_edukasi}}% Complete</span>
													</div>
												</div>
												<div class="d-flex align-items-end mt-2 pb-4 justify-content-between">
													<span class="fs-14 font-w500">Edukasi</span>
													<span class="fs-16"><span class="text-black pe-2"></span>{{overall_edukasi}}%</span>
												</div>
												<div class="progress default-progress">
													<div class="progress-bar bg-contact progress-animated" style="width: {{overall_perencanaan}}%; height:13px;" role="progressbar">
														<span class="sr-only">{{overall_perencanaan}}% Complete</span>
													</div>
												</div>
												<div class="d-flex align-items-end mt-2 pb-4 justify-content-between">
													<span class="fs-14 font-w500">Perencanaan</span>
													<span class="fs-16"><span class="text-black pe-2"></span>{{overall_perencanaan}}%</span>
												</div>
												<div class="progress default-progress">
													<div class="progress-bar bg-follow progress-animated" style="width: {{overall_penerapan}}%; height:13px;" role="progressbar">
														<span class="sr-only">{{overall_penerapan}}% Complete</span>
													</div>
												</div>
												<div class="d-flex align-items-end mt-2 pb-4 justify-content-between">
													<span class="fs-14 font-w500">Penerapan</span>
													<span class="fs-16"><span class="text-black pe-2"></span>{{overall_penerapan}}%</span>
												</div>
												<div class="progress default-progress">
													<div class="progress-bar bg-danger progress-animated" style="width: {{overall_penguatan}}%; height:13px;" role="progressbar">
														<span class="sr-only">{{overall_penguatan}}% Complete</span>
													</div>
												</div>
												<div class="d-flex align-items-end mt-2 pb-4 justify-content-between">
													<span class="fs-14 font-w500">Penguatan</span>
													<span class="fs-16"><span class="text-black pe-2"></span>{{overall_penguatan}}%</span>
												</div>
												<div class="progress default-progress">
													<div class="progress-bar bg-success progress-animated" style="width: {{overall_evaluasi}}%; height:13px;" role="progressbar">
														<span class="sr-only">{{overall_evaluasi}}% Complete</span>
													</div>
												</div>
												<div class="d-flex align-items-end mt-2 pb-4 justify-content-between">
													<span class="fs-14 font-w500">Evaluasi</span>
													<span class="fs-16"><span class="text-black pe-2"></span>{{overall_evaluasi}}%</span>
												</div>
											</div>
											<div class="col-xl-6 col-sm-6">
												<div id="pieChart3"></div>
											</div>
										</div>
									</div>
								</div>
							</div>

							<!-- <div class="col-xl-12">
								<div class="card" >
									<div class="card-header border-0 pb-0 flex-wrap">
										<h4 class="fs-20 mb-1">Nilai Rata-rata CSM</h4>
									</div>
									<div class="card-body">
										<div id="highchart-radar"></div>
										<table class="table table-bordered">
											<tr>
												<td>Tata Kelola</td>
												<td>{{str_tatakelola_csm}}</td>
												<td>{% level tatakelola %}</td>
											</tr>
											<tr>
												<td>Identifikasi</td>
												<td>{{str_identifikasi}}</td>
												<td>{% level identifikasi %}</td>
											</tr>
											<tr>
												<td>Proteksi</td>
												<td>{{str_proteksi}}</td>
												<td>{% level proteksi %}</td>
											</tr>
											<tr>
												<td>Deteksi</td>
												<td>{{str_deteksi}}</td>
												<td>{% level deteksi %}</td>
											</tr>
											<tr>
												<td>Respon</td>
												<td>{{str_respon}}</td>
												<td>{% level respon %}</td>
											</tr>
											<tr>
												<td>Levet Maturitas</td>
												<th>{{maturitas|floatformat:2}}</th>
												<th>{% level maturitas %}</th>
											</tr>
										</table>
									</div>
								</div>
							</div>

							<div class="col-xl-12">
								<div class="card">
									<div class="card-header border-0">
										<h4 class="fs-20 mb-3">Nilai Rata-rata CSM (Doughnut Chart) </h4>
									</div>
									<div class="card-body">
										<div id="highchart-pie"></div>
									</div>
								</div>
							</div>

							<div class="col-xl-12">
								<div class="card">
									<div class="card-header border-0 pb-0">
										<h4 class="fs-20 mb-1">Nilai Rata-rata CSM (Sub Aspek)</h4>
									</div>
									<div class="card-body">
										<div id="highchart-csm"></div>
									</div>
								</div>
							</div> -->
						</div>
					</div>
					
				</div>
				

				<script>
					$(document).ready(function() {

					var counters = $(".count");
					var countersQuantity = counters.length;
					var counter = [];

					for (i = 0; i < countersQuantity; i++) {
						counter[i] = parseInt(counters[i].innerHTML);
					}

					var count = function(start, value, id) {
						var localStart = start;
						setInterval(function() {
						if (localStart < value) {
							localStart++;
							counters[id].innerHTML = localStart;
						}
						}, 40);
					}

					for (j = 0; j < countersQuantity; j++) {
						count(0, counter[j], j);
					}
					});	
				</script>

				<script> 
					var spider_json = "{{ spider_json|escapejs }}";
						bar_json = "{{ bar_json|escapejs }}";
						str_tatakelola = "{{ str_tatakelola_csm|escapejs }}";
						str_identifikasi = "{{ str_identifikasi|escapejs }}";
						str_proteksi = "{{ str_proteksi|escapejs }}";
						str_deteksi = "{{ str_deteksi|escapejs }}";
						str_respon = "{{ str_respon|escapejs }}";
				</script>
				<script src="{% static 'js/plugins-init/highchart-csm.js' %}"></script>

				<script> 
					var pie_ttis_json = "{{ pie_ttis_json|escapejs }}";
				</script>
				<script src="{% static 'js/plugins-init/piechart-ttis.js' %}"></script>

				<script> 
					var spider_ikami_json = "{{ spider_ikami_json|escapejs }}";
				</script>
				<script src="{% static 'js/plugins-init/highchart-ikami.js' %}"></script>

				<script> 
					var bar_se_json = "{{ bar_se_json|escapejs }}";
				</script>
				<script src="{% static 'js/plugins-init/highchart-se.js' %}"></script>
            {% endblock %}